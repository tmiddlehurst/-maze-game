{"version":3,"sources":["webpack:///webpack/bootstrap 8b13564cc26fa5da1c88","webpack:///./app/modules/util.js","webpack:///./app/modules/path-finding.js","webpack:///./app/modules/character.js","webpack:///./app/app.js","webpack:///./app/modules/maze.js","webpack:///./app/modules/generate-maze.js","webpack:///./app/modules/baddie.js","webpack:///./app/modules/lights.js"],"names":["isEven","value","$","selector","document","querySelector","$All","querySelectorAll","randomIntBetween","min","max","Math","round","random","$tail","array","length","countOf","val","arr","occurances","filter","element","isWalkable","coordsToIndex","indexToCoords","pathFinder","moveMap","up","x","y","right","down","left","maze","_getWalkableNeighbours","i","width","neighbours","dir","newTile","push","start","target","noPossibleRoute","fastestRoute","paths","_extend","path","validTiles","includes","tile","concat","map","console","log","reduce","a","Character","name","moveInterval","direction","stepsTaken","position","_destroySprite","_renderAt","_startWalk","intervalTime","setInterval","nextTile","_stopWalk","clearInterval","innerHTML","window","onload","LIGHTS","INPUT_HANDLER","inputHandler","PLAYER","BADDIE","MAZE","newGame","spawn","setTimeout","toggleWalk","addEventListener","actionMap","playerMove","toggleLight","action","event","key","toggleOnOff","setMoveDirection","call","renderMaze","containerSelector","container","height","blockRenderString","j","k","classes","clientHeight","clientWidth","MazeFeatures","generateMaze","mazeWidth","mazeHeight","moves","posX","posY","possibleDirections","move","back","pop","floor","Baddie","player","arguments","_locatePlayerInterval","_walkInterval","_path","intervalMilis","_locatePlayer","walkInterval","_step","_tearDown","Lights","classList","toggle"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8b13564cc26fa5da1c88","/**\n * check for even/odd number\n *\n * @param {Number} value\n */\nconst isEven = value => value % 2;\n\n/**\n *  JQuery-like DOM element selector\n *\n * @param {String} selector\n */\nfunction $(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n *  Returns a nodelist of all DOM elements selected by `selector`\n *\n * @param {String} selector\n */\nfunction $All(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * Return random int between `min` and `max`\n *\n * @param {Number} min\n * @param {Number} max\n */\n\nfunction randomIntBetween(min, max) {\n  return min + Math.round(Math.random() * max);\n}\n\n/**\n * Return last item in array\n *\n * @param {Array} array\n */\nfunction $tail(array) {\n  return array[(array.length - 1)];\n}\n\n// ***** UNUSED ******\n\n/**\n * Return number of occurances of {val} in {arr}\n *\n * @param {*} val - value to find\n * @param {[*]} arr - array to look in\n * @returns {Number}\n */\nfunction countOf(val, arr) {\n  let occurances = arr.filter(element => element === val)\n\n  return occurances.length;\n}\n\nexport { isEven, $, $All, randomIntBetween, $tail, countOf }\n\n// WOULD THIS WORK?\n// let safeWhile = function(condition, limiter, fn) {\n//   let i = 0\n//   while(condition) {\n//     if (i >= limiter) {\n//       break;\n//     }\n//     return fn();\n//     i++\n//   }\n// }\n\n\n// WEBPACK FOOTER //\n// ./app/modules/util.js","import { $tail } from './util.js';\n\nexport const moveMap = {\n  'N': function up([x, y]) {\n    return [(x - 1), y];\n  },\n  'E': function right([x, y]) {\n    return [x, (y + 1)];\n  },\n  'S': function down([x, y]) {\n    return [(x + 1), y];\n  },\n  'W': function left([x, y]) {\n    return [x, (y - 1)];\n  },\n};\n\nexport function isWalkable(maze, [x, y]) {\n  if (maze[x] && maze[x][y]) {\n    return maze[x][y] === 1;\n  } else return false;\n}\n\n/**\n * Get walkable neighbouring tiles\n *\n * @param {Number} i - Tile index\n * @param {Array} maze - Maze\n * @returns {Array} Array of tile indices\n */\nfunction _getWalkableNeighbours(i, maze) {\n  const width = maze[0].length;\n  const [x, y] = indexToCoords(i, width);\n\n  let neighbours = [];\n\n  for (let dir in moveMap) {\n    let newTile = moveMap[dir]([x, y]);\n\n    if (isWalkable(maze, newTile)) {\n      neighbours.push(coordsToIndex(newTile, width));\n    }\n  }\n  return neighbours;\n}\n\n/**\n *\n * @param {Coords} [x,y] - Coordinates to convert\n * @param {Number} width - Maze width\n */\nexport function coordsToIndex([x, y], width) {\n  return x + y * width;\n}\n\n/**\n *\n * @param {Number} i - Index to convert\n * @param {*} width\n */\nexport function indexToCoords(i, width) {\n  let x = i % width;\n  let y  = (i - x) / width;\n\n  return [x, y];\n}\n\n//TODO: Fix this funct\nexport function pathFinder(maze, start, target) {\n  const width = maze[0].length;\n\n  start = coordsToIndex(start, width);\n  target = coordsToIndex(target, width);\n\n  let noPossibleRoute = false;\n  let fastestRoute = null;\n  let paths = [[start]];\n  let i = 0;\n\n  // Extend `path` by one tile in each possible new direction.\n  function _extend(path) {\n    let neighbours = _getWalkableNeighbours($tail(path), maze);\n    debugger;\n\n    // Neighbouring of current tile which are NOT in the current path. (Prevents Back-tracking)\n    // TODO: PROBLEM: cannot check for presence of an array (coordinate pair) within another array (path)\n    let validTiles = neighbours.filter(tile => {\n      return !path.includes(tile);\n    });\n\n    if (validTiles.length) {\n      // Check if target has been reached\n      if (validTiles.includes(target)) {\n        return fastestRoute = path.concat(target);\n      }\n\n      return validTiles.map(tile => path.concat(tile));\n    }\n  }\n\n  while (!fastestRoute && !noPossibleRoute) {\n    // Check if i is too large to be a realistic search (guard against infinite search when target cannot be reached)\n    if (i === 500) {\n      noPossibleRoute = false;\n      console.log('No route available');\n    }\n\n    paths = paths.reduce((a, path) => {\n      return a.concat(_extend(path));\n    }, []);\n    i++\n  }\n  return fastestRoute || null;\n}\n\n\n// /**\n//  *\n//  * Check if a tile index corresponds to a walkabletile\n//  *\n//  * @param {Maze} maze Binary maze array\n//  * @param {Number} i Tile index\n//  */\n// function _isValidTileIndex(maze, i) {\n//   return maze[i] && maze[i] === 1;\n// }\n\n\n// class FloodFiller {\n//   constructor(maze) {\n//     this.maze = maze;\n//     this.start = start;\n//     this.target = target;\n//     this.possibleRoute = true;\n//     this.fastestRoute = null;\n//   }\n\n//   pathToTarget(start, target) {\n//     this.target = target;\n\n//     let paths = [[start]];\n//     let i = 0;\n\n//     while (!this.fastestRoute && this.possibleRoute) {\n//       // Check if i is too large to be a realistic search (target cannot be reached)\n//       if (i === 500) {\n//         this.possibleRoute = false;\n//         console.log('No route available');\n//       }\n\n//       paths = this._extendPaths(paths);\n//       i++\n//     }\n//     return this.fastestRoute || this.possibleRoute;\n//   }\n\n//   _extendPaths(paths) {\n//     let newPaths = paths.reduce((a, path) => {\n//       return a.concat(this._extend(path));\n//     }, []);\n\n//     return newPaths;\n//   }\n\n//   _extend(path) {\n//     // coordinates of path tip\n//     let [x, y] = $tail(path);\n\n//     //Find neighbours of current tile which are not in the current path. (Prevents Back-tracking)\n//     let validTiles = _findNeighbouringTiles([x, y], this.maze).filter(tile => !path.includes(tile));\n\n//     // Check for dead end\n//     if (validTiles.length === 0) {\n//       return;\n//     }\n\n//     // Check if target has been reached\n//     if (validTiles.includes(targetTile)) {\n//       return this.fastestRoute = path.concat(target);\n//     }\n\n//     return validTiles.map(tile => path.concat(tile));\n//   }\n// }\n\n//TODO: FINISH OFF REFACTOR OF THESE TWO FUNCTIONS\n\n// function findChildPaths(path, maze, targetTile) {\n//   let [tX, tY] = $tail(path);\n//   //Find neighbours of current tile which are not in the current path. (Prevents Back-tracking)\n//   let tilesToFlood = _findNeighbouringTiles([tX, tY], maze).filter(neighbour => !path.includes(neighbour));\n\n//   // Check for dead end\n//   if (tilesToFlood.length === 0) {\n//     return;\n//   }\n\n//   // Check if target has been reached\n//   if (tilesToFlood.includes(targetTile)) {\n//     return fastestRoute = path.concat(target);\n//   }\n\n//   return tilesToFlood.map(tile => path.concat(tile));\n// }\n\n// function _floodNext(tiles, paths, targetTile) {\n//   let fastestRoute = null;\n//   let nextPaths = [];\n\n//   paths.forEach((path) => {\n//     let childPaths = findChildPaths(path, maze, targetTile);\n\n//     return nextPaths.concat(childPaths);\n//   });\n\n//   return {\n//     'paths': nextPaths,\n//     'fastestRoute': fastestRoute,\n//   }\n// }\n\n// export function floodFiller(maze, start, end) {\n//   let paths = [[start]];\n//   let possibleRoute = false;\n//   let fastestRoute = null;\n//   let i = 0;\n\n//   while (!fastestRoute && possibleRoute) {\n//     let result = _floodNext(maze, paths, end);\n\n//     if (result.fastestRoute) {\n//       return fastestRoute = result.fastestRoute;\n//     }\n\n//     /* Check if i is too large to be a realistic search\n//     guards against an infinite loop if end position can't be reached */\n//     if (i === 500) {\n//       possibleRoute = false;\n//       console.log('No route available');\n//     }\n\n//     paths = result.paths;\n//     i++\n//   }\n//   return fastestRoute;\n// }\n\n\n// WEBPACK FOOTER //\n// ./app/modules/path-finding.js","import { $, $All, findTile } from './util.js';\nimport { moveMap, isWalkable } from './path-finding.js';\n\n/**\n * Defines a character within the game.\n * Includes methods to render character, move character position.\n * @param {String} name\n * @param {Array} maze grid that the character lives in.\n*/\nexport default class Character {\n  constructor(name, maze) {\n    this.name = name;\n    this.maze = maze;\n    this.moveInterval;\n    this.direction;\n\n    this.stepsTaken = 0;\n  }\n\n  /**\n   * Public spawn character method\n   *\n   * @param {Co-ords} tile\n   */\n  spawn(tile) {\n    if (this.position) {\n      this._destroySprite();\n    }\n    this._renderAt(tile);\n  }\n\n  /**\n   * Set move direction\n   *\n   * @param {String} direction N/E/S/W\n   */\n  setMoveDirection(direction) {\n    if (!this.moveInterval) {\n      this._startWalk();\n    }\n\n    this.direction = direction;\n    console.log(`player direction is now ${direction}`)\n  }\n\n  /**\n   * Initiate walk interval\n   *\n   * @param {Integer} intervalTime ms\n   */\n  _startWalk(intervalTime = 200) {\n    this.moveInterval = setInterval(() => {\n      let nextTile = moveMap[this.direction](this.position);\n\n      if (isWalkable(this.maze, nextTile)) {\n        console.log('Step');\n        this.stepsTaken++;\n        this._destroySprite();\n        this._renderAt(nextTile);\n\n      } else this._stopWalk();\n\n    }, intervalTime)\n  }\n\n  /**\n   * End walk interval\n   */\n  _stopWalk() {\n    clearInterval(this.moveInterval);\n    this.moveInterval = null;\n  }\n\n  _destroySprite() {\n    const [y, x] = this.position; // TODO: X and Y in the grid are the wrong way around, fix this at some point?\n\n    $(`#tile-${y}-${x}`).innerHTML = null;\n    this.position = null;\n  }\n\n  _renderAt(tile = this.position) {\n    const [y, x] = tile;\n\n    $(`#tile-${y}-${x}`).innerHTML = `<div class=\"character ${this.name}\"></div>`;\n    this.position = tile;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/character.js","import { renderMaze, MazeFeatures } from './modules/maze.js';\nimport { generateMaze } from './modules/generate-maze';\nimport { isWalkable, pathFinder } from './modules/path-finding.js';\nimport Character from './modules/character.js';\nimport Baddie from './modules/baddie.js';\nimport Lights from './modules/lights.js';\n\n// CORE GAME FUNCTION\nwindow.onload = () => {\n  const LIGHTS = new Lights();\n  const INPUT_HANDLER = inputHandler();\n\n  let PLAYER;\n  let BADDIE;\n  let MAZE;\n\n  (function newGame() {\n    MAZE = generateMaze(32, 16);\n    PLAYER = new Character('player', MAZE);\n    BADDIE = new Baddie('baddie', MAZE, PLAYER);\n\n    renderMaze('.game-area', MAZE);\n    PLAYER.spawn([1, 0]);\n\n    setTimeout(() => {\n      BADDIE.spawn([1, 0]);\n      BADDIE.toggleWalk(75);\n    }, 5000);\n  })();\n\n  //KeyPress Handler\n  function inputHandler() {\n    return document.addEventListener('keydown', event => {\n      const actionMap = {\n        'ArrowUp': () => playerMove('N'),\n        'ArrowRight': () => playerMove('E'),\n        'ArrowDown': () => playerMove('S'),\n        'ArrowLeft': () => playerMove('W'),\n        'w': () => playerMove('N'),\n        'd': () => playerMove('E'),\n        's': () => playerMove('S'),\n        'a': () => playerMove('W'),\n        ' ': () => toggleLight(),\n      }\n      const action = actionMap[event.key];\n\n      function toggleLight() {\n        LIGHTS.toggleOnOff();\n        BADDIE.toggleWalk();\n        return;\n      }\n\n      function playerMove(direction) {\n        return PLAYER.setMoveDirection.call(PLAYER, direction);\n      }\n\n      if (action) action();\n\n    });\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./app/app.js","import { $ } from './util.js';\n\n/**\n * Renders a random maze of square tiles with dimensions width x height within a container\n *\n * @param {String} containerSelector - querySelector for container element.\n * @param {Number} dimension - px dimension for each tile.\n */\nexport function renderMaze(containerSelector, maze) {\n  const container = $(containerSelector);\n  const height = maze.length;\n  const width = maze[0].length;\n\n  let i = 0;\n  let blockRenderString = '';\n\n  for (let j = 0; j < height; j++) {\n    for (let k = 0; k < width; k++) {\n      let classes = '';\n\n      if (maze[j][k] === 0) {\n        classes += ' tile-wall';\n      }\n\n      blockRenderString += `<div style=\"height:${(container.clientHeight / height)}px;width:${(container.clientWidth / width)}px;\" id=\"tile-${j}-${k}\" class=\"tile${classes} index-${i}\"></div>`;\n      i++;\n    }\n  }\n\n  container.innerHTML = blockRenderString;\n  return maze;\n}\n\nexport class MazeFeatures {\n  constructor() {\n    $('.gate-tile').innerHTML += `<div class=\"gate-tile_gate\"></div>`;\n  }\n  removeGate() {\n    $('.gate-tile').innerHTML = null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/maze.js","import { randomIntBetween } from './util.js'\n\n\n/**\n * Generate a random maze of specified width and height\n *\n * @param {Integer} mazeWidth\n * @param {Integer} mazeHeight\n */\nexport function generateMaze(mazeWidth, mazeHeight) {\n\n  let maze = [];\n  let moves = [];\n\n  // build the 3d 'matrix' for the grid, an array of arrays\n  for (let i = 0; i < mazeHeight; i++) {\n    maze[i] = [];\n    for (let j = 0; j < mazeWidth; j++) {\n      maze[i][j] = 0;\n    }\n  }\n\n  // starts at [1,1] instead of [0,0] to make a 1-wide wall around the maze?\n  let posX = 1;\n  let posY = 1;\n\n  maze[1][0] = 1;\n  maze[posX][posY] = 1;\n\n  moves.push(posY + posY * mazeWidth); // 1+1*81 = 82,  [82]\n\n  // game.time.events.loop(Phaser.Timer.SECOND / 25, function () {\n  while (moves.length) {\n\n    // String containing possible move directions\n    let possibleDirections = \"\";\n\n    // Build directions string by concatenating possible directions\n    if (posX + 2 > 0 && posX + 2 < mazeHeight - 1 && maze[posX + 2][posY] === 0) {\n      possibleDirections += \"S\";\n    }\n\n    if (posY + 2 > 0 && posY + 2 < mazeWidth - 1 && maze[posX][posY + 2] === 0) {\n      possibleDirections += \"E\";\n    }\n\n    if (posX - 2 > 0 && posX - 2 < mazeHeight - 1 && maze[posX - 2][posY] === 0) {\n      possibleDirections += \"N\";\n    }\n\n    if (posY - 2 > 0 && posY - 2 < mazeWidth - 1 && maze[posX][posY - 2] === 0) {\n      possibleDirections += \"W\";\n    }\n\n    // If there are possible directions, choose a random move\n    if (possibleDirections) {\n\n      let move = randomIntBetween(0, (possibleDirections.length - 1))\n\n      switch (possibleDirections[move]) {\n        case \"N\":\n          maze[posX - 2][posY] = 1;\n          maze[posX - 1][posY] = 1;\n          posX -= 2;\n          break;\n        case \"S\":\n          maze[posX + 2][posY] = 1;\n          maze[posX + 1][posY] = 1;\n          posX += 2;\n          break;\n        case \"W\":\n          maze[posX][posY - 2] = 1;\n          maze[posX][posY - 1] = 1;\n          posY -= 2;\n          break;\n        case \"E\":\n          maze[posX][posY + 2] = 1;\n          maze[posX][posY + 1] = 1;\n          posY += 2;\n          break;\n      }\n      moves.push(posY + posX * mazeWidth);\n    }\n    else {\n      let back = moves.pop();\n      posX = Math.floor(back / mazeWidth);\n      posY = back % mazeWidth;\n    }\n  }\n\n  // maze[(mazeHeight - 2)][(mazeWidth -2)] = 1; // end tile?\n  // maze[(mazeHeight - 2)][(mazeWidth -1)] = 1; // end tile?\n  return maze;\n}\n\n\n// WEBPACK FOOTER //\n// ./app/modules/generate-maze.js","import { pathFinder, isWalkable, coordsToIndex } from './path-finding.js';\nimport Character from './character.js';\n\nexport default class Baddie extends Character {\n  constructor(name, maze, player) {\n    super(...arguments);\n\n    // If i set this.playerPos = player.position, will this be a reference to player.position always or will it just cache the value of player.position when this class is instantiated?\n    this.player = player;\n    this.stepsTaken = 0;\n\n    this._locatePlayerInterval = null;\n    this._walkInterval = null;\n    this._path = [];\n  }\n\n  toggleWalk(intervalMilis) {\n    this._walkInterval ? this._stopWalk() : this._startWalk(intervalMilis);\n  }\n\n  _locatePlayer() {\n    const { maze, position, player } = this;\n    let path = pathFinder(maze, position, player.position);\n\n    return path ? path : [[0, 0]];\n  }\n\n  _locatePlayerInterval() {\n    this._locatePlayerInterval = setInterval(() => {\n      this._path = this._locatePlayer();\n    }, 1500);\n  }\n\n  /**\n   * Start walk interval\n   * @param {Number} intervalTime Number of miliseconds between baddie move\n   */\n  _startWalk(intervalTime = 75) {\n    this._path = this._locatePlayer();\n    this.walkInterval = setInterval(() => {\n      let nextTile = this._path[1];\n      this._step(nextTile);\n      if (nextTile = this.player.position) {\n        this._tearDown();\n      }\n    }, intervalTime);\n  }\n\n  _tearDown() {\n    console.log(`${this.name} SHUTTING DOWN`);\n    clearInterval(this._locatePlayerInterval);\n    clearInterval(this._walkInterval);\n    this._walkInterval = null;\n    this._locatePlayerInterval = null;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/modules/baddie.js","import { $ } from './util.js';\n\n/**\n * Defines 'lights' in the game area to hide/show walkable path and characters.\n */\nexport default class Lights {\n  toggleOnOff() {\n    $('.game-area').classList.toggle('lights_off');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/lights.js"],"sourceRoot":""}