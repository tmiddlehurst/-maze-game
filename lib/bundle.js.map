{"version":3,"sources":["webpack:///webpack/bootstrap 492ec3a07282136c92ac","webpack:///./app/modules/util.js","webpack:///./app/modules/path-finding.js","webpack:///./app/modules/character.js","webpack:///./app/app.js","webpack:///./app/modules/maze.js","webpack:///./app/modules/generate-maze.js","webpack:///./app/modules/baddie.js","webpack:///./app/modules/lights.js"],"names":["$","$All","randomIntBetween","tail","countOf","isEven","value","selector","document","querySelector","querySelectorAll","min","max","Math","round","random","array","length","val","arr","occurances","filter","element","coordsToIndex","indexToCoords","pathFinder","moveMap","up","x","y","right","down","left","width","i","isWalkable","maze","_getWalkableNeighbours","neighbours","dir","newTile","concat","start","target","noPossibleRoute","fastestRoute","paths","_extend","path","validTiles","includes","tile","map","console","log","reduce","a","Character","name","moveInterval","direction","stepsTaken","move","_startWalk","_destroySprite","_renderSprite","intervalTime","setInterval","nextTile","position","_moveTo","_stopWalk","clearInterval","innerHTML","window","onload","LIGHTS","INPUT_HANDLER","inputHandler","PLAYER","BADDIE","MAZE","newGame","spawn","setTimeout","toggleWalk","addEventListener","key","event","actionMap","playerMove","toggleLight","action","toggleOnOff","setMoveDirection","call","renderMaze","containerSelector","container","height","blockRenderString","j","classes","clientHeight","clientWidth","MazeFeatures","generateMaze","mazeWidth","mazeHeight","moves","posX","posY","push","possibleDirections","back","pop","floor","Baddie","player","arguments","_locatePlayerInterval","_walkInterval","_path","intervalMilis","thisPos","playerPos","_locatePlayer","walkInterval","_step","_tearDown","Lights","classList","toggle"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 492ec3a07282136c92ac","/**\n * check for even/odd number\n *\n * @param {Number} value\n */\nexport const isEven = value => value % 2;\n\n/**\n *  JQuery-like DOM element selector\n *\n * @param {String} selector\n */\nexport function $(selector) {\n  return document.querySelector(selector);\n}\n\n/**\n *  Returns a nodelist of all DOM elements selected by `selector`\n *\n * @param {String} selector\n */\nexport function $All(selector) {\n  return document.querySelectorAll(selector);\n}\n\n/**\n * Return random int between `min` and `max`\n *\n * @param {Number} min\n * @param {Number} max\n */\n\nexport function randomIntBetween(min, max) {\n  return min + Math.round(Math.random() * max);\n}\n\n/**\n * Return last item of array {Array}\n *\n * @param {Array} array\n */\nexport function tail(array) {\n  return array[(array.length - 1)];\n}\n\n// ***** UNUSED ******\n\n/**\n * Return number of occurances of {val} in {arr}\n *\n * @param {*} val - value to find\n * @param {[*]} arr - array to look in\n * @returns {Number}\n */\nexport function countOf(val, arr) {\n  let occurances = arr.filter(element => element === val)\n\n  return occurances.length;\n}\n// WOULD THIS WORK?\n// let safeWhile = function(condition, limiter, fn) {\n//   let i = 0\n//   while(condition) {\n//     if (i >= limiter) {\n//       break;\n//     }\n//     return fn();\n//     i++\n//   }\n// }\n\n\n// WEBPACK FOOTER //\n// ./app/modules/util.js","import { $, tail } from './util.js';\n\nexport const moveMap = {\n  'N': function up([x, y]) {\n    return [(x - 1), y];\n  },\n  'E': function right([x, y]) {\n    return [x, (y + 1)];\n  },\n  'S': function down([x, y]) {\n    return [(x + 1), y];\n  },\n  'W': function left([x, y]) {\n    return [x, (y - 1)];\n  },\n};\n\nexport function coordsToIndex([x, y], width) {\n  return x + y * width;\n}\n\nexport function indexToCoords(i, width) {\n  let x = i % width;\n  let y  = (i - x) / width;\n\n  return [x, y];\n}\n\n/**\n * Check if a tile is walkable\n *\n * @param {Maze} maze Binary maze array\n * @param {Integer} i Tile index\n */\nfunction isWalkable(maze, i) {\n  return maze[i] && maze[i] === 1;\n}\n\n// export function isWalkable(maze, [x, y]) {\n//   const width = maze[0].length;\n//   const height = maze.length;\n\n//   if (\n//     x < 0 ||\n//     y < 0 ||\n//     y >= width ||\n//     x >= height ||\n//     maze[x][y] === 0\n//   ) {\n//     return false;\n//   } else {\n//     return true\n//   }\n// }\n\n/**\n *\n * @param {Integer} i - Tile index\n * @param {Array} maze - Maze\n */\nfunction _getWalkableNeighbours(i, maze) {\n  let neighbours = [];\n\n  for (let dir in moveMap) {\n    // Bit dodgy - Convert index to coords to get new tile then convert new tile coords back to index.\n    let newTile = coordsToIndex(dir(indexToCoords(i)));\n\n    if (isWalkable(maze, newTile)) {\n      return neighbours.concat(newTile)\n    }\n  }\n  return neighbours;\n}\n\n\nexport function pathFinder(maze, start, target) {\n  let noPossibleRoute = false;\n  let fastestRoute = null;\n  let paths = [[start]];\n  let i = 0;\n\n  // Extend `path` by one tile in each possible new direction.\n  function _extend(path) {\n    let neighbours = _getWalkableNeighbours(tail(path), maze);\n\n    // Neighbouring of current tile which are NOT in the current path. (Prevents Back-tracking)\n    let validTiles = neighbours.filter(tile => {\n      return !path.includes(tile);\n    });\n\n    if (validTiles.length) {\n      // Check if target has been reached\n      if (validTiles.includes(target)) {\n        return fastestRoute = path.concat(target);\n      }\n\n      return validTiles.map(tile => path.concat(tile));\n    }\n  }\n\n  while (!fastestRoute && !noPossibleRoute) {\n    // Check if i is too large to be a realistic search (guard against infinite search when target cannot be reached)\n    if (i === 500) {\n      noPossibleRoute = false;\n      console.log('No route available');\n    }\n\n    paths = paths.reduce((a, path) => {\n      return a.concat(_extend(path));\n    }, []);\n    i++\n  }\n  return fastestRoute || null;\n}\n\n\n// class FloodFiller {\n//   constructor(maze) {\n//     this.maze = maze;\n//     this.start = start;\n//     this.target = target;\n//     this.possibleRoute = true;\n//     this.fastestRoute = null;\n//   }\n\n//   pathToTarget(start, target) {\n//     this.target = target;\n\n//     let paths = [[start]];\n//     let i = 0;\n\n//     while (!this.fastestRoute && this.possibleRoute) {\n//       // Check if i is too large to be a realistic search (target cannot be reached)\n//       if (i === 500) {\n//         this.possibleRoute = false;\n//         console.log('No route available');\n//       }\n\n//       paths = this._extendPaths(paths);\n//       i++\n//     }\n//     return this.fastestRoute || this.possibleRoute;\n//   }\n\n//   _extendPaths(paths) {\n//     let newPaths = paths.reduce((a, path) => {\n//       return a.concat(this._extend(path));\n//     }, []);\n\n//     return newPaths;\n//   }\n\n//   _extend(path) {\n//     // coordinates of path tip\n//     let [x, y] = tail(path);\n\n//     //Find neighbours of current tile which are not in the current path. (Prevents Back-tracking)\n//     let validTiles = _findNeighbouringTiles([x, y], this.maze).filter(tile => !path.includes(tile));\n\n//     // Check for dead end\n//     if (validTiles.length === 0) {\n//       return;\n//     }\n\n//     // Check if target has been reached\n//     if (validTiles.includes(targetTile)) {\n//       return this.fastestRoute = path.concat(target);\n//     }\n\n//     return validTiles.map(tile => path.concat(tile));\n//   }\n// }\n\n//TODO: FINISH OFF REFACTOR OF THESE TWO FUNCTIONS\n\n// function findChildPaths(path, maze, targetTile) {\n//   let [tX, tY] = tail(path);\n//   //Find neighbours of current tile which are not in the current path. (Prevents Back-tracking)\n//   let tilesToFlood = _findNeighbouringTiles([tX, tY], maze).filter(neighbour => !path.includes(neighbour));\n\n//   // Check for dead end\n//   if (tilesToFlood.length === 0) {\n//     return;\n//   }\n\n//   // Check if target has been reached\n//   if (tilesToFlood.includes(targetTile)) {\n//     return fastestRoute = path.concat(target);\n//   }\n\n//   return tilesToFlood.map(tile => path.concat(tile));\n// }\n\n// function _floodNext(tiles, paths, targetTile) {\n//   let fastestRoute = null;\n//   let nextPaths = [];\n\n//   paths.forEach((path) => {\n//     let childPaths = findChildPaths(path, maze, targetTile);\n\n//     return nextPaths.concat(childPaths);\n//   });\n\n//   return {\n//     'paths': nextPaths,\n//     'fastestRoute': fastestRoute,\n//   }\n// }\n\n// export function floodFiller(maze, start, end) {\n//   let paths = [[start]];\n//   let possibleRoute = false;\n//   let fastestRoute = null;\n//   let i = 0;\n\n//   while (!fastestRoute && possibleRoute) {\n//     let result = _floodNext(maze, paths, end);\n\n//     if (result.fastestRoute) {\n//       return fastestRoute = result.fastestRoute;\n//     }\n\n//     /* Check if i is too large to be a realistic search\n//     guards against an infinite loop if end position can't be reached */\n//     if (i === 500) {\n//       possibleRoute = false;\n//       console.log('No route available');\n//     }\n\n//     paths = result.paths;\n//     i++\n//   }\n//   return fastestRoute;\n// }\n\n\n// WEBPACK FOOTER //\n// ./app/modules/path-finding.js","import { $, $All, findTile } from './util.js';\nimport { moveMap, isWalkable } from './path-finding.js';\n\n/**\n * Defines a character within the game.\n * Includes methods to render character, move character position.\n * @param {String} name\n * @param {Array} maze grid that the character lives in.\n*/\nexport default class Character {\n  constructor(name, maze) {\n    this.moveInterval;\n    this.direction;\n    this.name = name;\n    this.maze = maze;\n    this.stepsTaken = 0;\n  }\n\n  /**\n   * Set move direction\n   *\n   * @param {String} direction N/E/S/W\n   */\n  setMoveDirection(direction) {\n    this.direction = move[direction];\n\n    if (!this.moveInterval) {\n      this._startWalk();\n    }\n    console.log(`player direction is now` + direction)\n  }\n\n  /**\n   * Public spawn character method\n   *\n   * @param {Co-ords} tile\n   */\n  spawn(tile) {\n    this._destroySprite();\n    this._renderSprite(tile);\n  }\n\n  /**\n   * Initiate walk interval\n   *\n   * @param {Integer} intervalTime ms\n   */\n  _startWalk(intervalTime = 200) {\n    this.moveInterval = setInterval(() => {\n      let nextTile = moveMap[this.direction](this.position);\n\n      if (isWalkable(nextTile)) {\n        this._moveTo(newTile);\n        console.log('Player move');\n      } else this._stopWalk();\n\n    }, intervalTime)\n  }\n\n  /**\n   * End walk interval\n   */\n  _stopWalk() {\n    clearInterval(this.moveInterval);\n    this.moveInterval = null;\n  }\n\n\n  /**\n   * Render character at `tile`\n   *\n   * @param {Co-ords} tile\n   */\n  _moveTo(tile) {\n    this.stepsTaken++;\n\n    // Destroy & rerender character sprite\n    this._destroySprite();\n    this._renderSprite(tile);\n  }\n\n\n  _destroySprite() {\n    const [x, y] = this.position;\n\n    $(`#tile-${y}-${x}`).innerHTML = null;\n    this.position = null;\n  }\n\n  _renderSprite(tile = this.position) {\n    const [x, y] = tile;\n\n    $(`#tile-${y}-${x}`).innerHTML = `<div class=\"character ${this.name}\"></div>`;\n    this.position = tile;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/character.js","import { renderMaze, MazeFeatures } from './modules/maze.js';\nimport { generateMaze } from './modules/generate-maze';\nimport { isWalkable, pathFinder } from './modules/path-finding.js';\nimport Character from './modules/character.js';\nimport Baddie from './modules/baddie.js';\nimport Lights from './modules/lights.js';\n\n// CORE GAME FUNCTION\nwindow.onload = () => {\n  const LIGHTS = new Lights();\n  const INPUT_HANDLER = inputHandler();\n\n  let PLAYER;\n  let BADDIE;\n  let MAZE;\n\n  (function newGame() {\n    MAZE = generateMaze(32, 16);\n    PLAYER = new Character('player', MAZE);\n    BADDIE = new Baddie('baddie', MAZE, PLAYER);\n\n    renderMaze('.game-area', MAZE);\n    PLAYER.spawn([1, 0]);\n\n    setTimeout(() => {\n      BADDIE.spawn([1, 0]);\n      BADDIE.toggleWalk(75);\n    }, 5000);\n  })();\n\n  //KeyPress Handler\n  function inputHandler() {\n    return document.addEventListener('keydown', event => {\n      const key = event.key;\n      const actionMap = {\n        'ArrowUp': () => playerMove('N'),\n        'ArrowRight': () => playerMove('E'),\n        'ArrowDown': () => playerMove('S'),\n        'ArrowLeft': () => playerMove('W'),\n        'w': () => playerMove('N'),\n        'd': () => playerMove('E'),\n        's': () => playerMove('S'),\n        'a': () => playerMove('W'),\n        ' ': () => toggleLight(),\n      }\n      const action = actionMap[key];\n\n      function toggleLight() {\n        LIGHTS.toggleOnOff();\n        BADDIE.toggleWalk();\n        return;\n      }\n\n      function playerMove(direction) {\n        return PLAYER.setMoveDirection.call(PLAYER, direction);\n      }\n\n      if (!action) {\n        return;\n      } else action();\n\n    });\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./app/app.js","import { $ } from './util.js';\n\n/**\n * Renders a random maze of square tiles with dimensions width x height within a container\n *\n * @param {String} containerSelector - querySelector for container element.\n * @param {Number} dimension - px dimension for each tile.\n */\nexport function renderMaze(containerSelector, maze) {\n  const container = $(containerSelector);\n  const height = maze.length;\n  const width = maze[0].length;\n\n  let blockRenderString = '';\n\n  for (let i = 0; i < height; i++) {\n    for (let j = 0; j < width; j++) {\n      let classes = '';\n\n      if (maze[i][j] === 0) {\n        classes += ' tile-wall';\n      }\n\n      blockRenderString += `<div style=\"height:${(container.clientHeight / height)}px;width:${(container.clientWidth / width)}px;\" id=\"tile-${i}-${j}\" class=\"tile${classes}\"></div>`;\n    }\n  }\n\n  container.innerHTML = blockRenderString;\n  return maze;\n}\n\nexport class MazeFeatures {\n  constructor() {\n    $('.gate-tile').innerHTML += `<div class=\"gate-tile_gate\"></div>`;\n  }\n  removeGate() {\n    $('.gate-tile').innerHTML = null;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/maze.js","import { randomIntBetween } from './util.js'\n\n\n/**\n * Generate a random maze of specified width and height\n *\n * @param {Integer} mazeWidth\n * @param {Integer} mazeHeight\n */\nexport function generateMaze(mazeWidth, mazeHeight) {\n\n  let maze = [];\n  let moves = [];\n\n  // build the 3d 'matrix' for the grid, an array of arrays\n  for (let i = 0; i < mazeHeight; i++) {\n    maze[i] = [];\n    for (let j = 0; j < mazeWidth; j++) {\n      maze[i][j] = 0;\n    }\n  }\n\n  // starts at [1,1] instead of [0,0] to make a 1-wide wall around the maze?\n  let posX = 1;\n  let posY = 1;\n\n  maze[1][0] = 1;\n  maze[posX][posY] = 1;\n\n  moves.push(posY + posY * mazeWidth); // 1+1*81 = 82,  [82]\n\n  // game.time.events.loop(Phaser.Timer.SECOND / 25, function () {\n  while (moves.length) {\n\n    // String containing possible move directions\n    let possibleDirections = \"\";\n\n    // Build directions string by concatenating possible directions\n    if (posX + 2 > 0 && posX + 2 < mazeHeight - 1 && maze[posX + 2][posY] === 0) {\n      possibleDirections += \"S\";\n    }\n\n    if (posY + 2 > 0 && posY + 2 < mazeWidth - 1 && maze[posX][posY + 2] === 0) {\n      possibleDirections += \"E\";\n    }\n\n    if (posX - 2 > 0 && posX - 2 < mazeHeight - 1 && maze[posX - 2][posY] === 0) {\n      possibleDirections += \"N\";\n    }\n\n    if (posY - 2 > 0 && posY - 2 < mazeWidth - 1 && maze[posX][posY - 2] === 0) {\n      possibleDirections += \"W\";\n    }\n\n    // If there are possible directions, choose a random move\n    if (possibleDirections) {\n\n      let move = randomIntBetween(0, (possibleDirections.length - 1))\n\n      switch (possibleDirections[move]) {\n        case \"N\":\n          maze[posX - 2][posY] = 1;\n          maze[posX - 1][posY] = 1;\n          posX -= 2;\n          break;\n        case \"S\":\n          maze[posX + 2][posY] = 1;\n          maze[posX + 1][posY] = 1;\n          posX += 2;\n          break;\n        case \"W\":\n          maze[posX][posY - 2] = 1;\n          maze[posX][posY - 1] = 1;\n          posY -= 2;\n          break;\n        case \"E\":\n          maze[posX][posY + 2] = 1;\n          maze[posX][posY + 1] = 1;\n          posY += 2;\n          break;\n      }\n      moves.push(posY + posX * mazeWidth);\n    }\n    else {\n      let back = moves.pop();\n      posX = Math.floor(back / mazeWidth);\n      posY = back % mazeWidth;\n    }\n  }\n\n  // maze[(mazeHeight - 2)][(mazeWidth -2)] = 1; // end tile?\n  // maze[(mazeHeight - 2)][(mazeWidth -1)] = 1; // end tile?\n  console.log(maze);\n  return maze;\n}\n\n\n// WEBPACK FOOTER //\n// ./app/modules/generate-maze.js","import { pathFinder, isWalkable, coordsToIndex } from './path-finding.js';\nimport Character from './character.js';\n\nexport default class Baddie extends Character {\n  constructor(name, maze, player) {\n    super(...arguments);\n\n    // If i set this.playerPos = player.position, will this be a reference to player.position always or will it just cache the value of player.position when this class is instantiated?\n    this.player = player;\n    this.stepsTaken = 0;\n\n    this._locatePlayerInterval = null;\n    this._walkInterval = null;\n    this._path = [];\n  }\n\n  toggleWalk(intervalMilis) {\n    this._walkInterval ? this._stopWalk() : this._startWalk(intervalMilis);\n  }\n\n  _locatePlayer() {\n    let thisPos = coordsToIndex(this.position);\n    let playerPos = coordsToIndex(this.player.position);\n\n    let path = pathFinder(this.maze, thisPos, playerPos);\n\n    return path ? [[0, 0]] : path;\n  }\n\n  _locatePlayerInterval() {\n    this._locatePlayerInterval = setInterval(() => {\n      this._path = this._locatePlayer();\n    }, 1500);\n  }\n\n  /**\n   * Start walk interval\n   * @param {Number} intervalTime Number of miliseconds between baddie move\n   */\n  _startWalk(intervalTime = 75) {\n    this._path = this._locatePlayer();\n    this.walkInterval = setInterval(() => {\n      let nextTile = this._path[1];\n      this._step(nextTile);\n      if (nextTile = this.player.position) {\n        this._tearDown();\n      }\n    }, intervalTime);\n  }\n\n  _tearDown() {\n    console.log(`${this.name} SHUTTING DOWN`);\n    clearInterval(this._locatePlayerInterval);\n    clearInterval(this._walkInterval);\n    this._walkInterval = null;\n    this._locatePlayerInterval = null;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./app/modules/baddie.js","import { $ } from './util.js';\n\n/**\n * Defines 'lights' in the game area to hide/show walkable path and characters.\n */\nexport default class Lights {\n  toggleOnOff() {\n    $('.game-area').classList.toggle('lights_off');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./app/modules/lights.js"],"sourceRoot":""}